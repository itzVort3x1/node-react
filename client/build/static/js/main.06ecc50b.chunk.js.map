{"version":3,"sources":["actions/types.js","actions/index.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["FETCH_USER","fetchUser","dispatch","a","axios","get","response","type","payload","handleToken","token","post","data","Payments","name","description","amount","props","stripeKey","process","currency","className","Component","connect","actions","Header","this","auth","href","style","margin","credits","to","renderContent","state","Landing","textAlign","Dashboard","Survey","App","path","exact","component","combineReducers","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector"],"mappings":"kWAAaA,EAAa,aCGbC,EAAa,yDAAM,WAAOC,GAAP,eAAAC,EAAA,sEACLC,IAAMC,IAAI,qBADL,OACtBC,EADsB,OAE5BJ,EAAU,CAAEK,KAAMP,EAAYQ,QAASF,IAFX,2CAAN,uDAKbG,EAAc,SAACC,GAAD,8CAAW,WAAOR,GAAP,eAAAC,EAAA,sEACXC,IAAMO,KAAK,cAAeD,GADf,OAC5BJ,EAD4B,OAElCJ,EAAS,CAAEK,KAAMP,EAAYQ,QAASF,EAASM,OAFb,2CAAX,uD,wBCHrBC,E,4JACF,WAAW,IAAD,OACN,OACI,cAAC,IAAD,CACIC,KAAK,SACLC,YAAY,gCACZC,OAAQ,KACRN,MAAO,SAAAA,GAAK,OAAI,EAAKO,MAAMR,YAAYC,IACvCQ,UAAWC,8GACXC,SAAS,MANb,SAQI,wBAAQC,UAAU,MAAlB,+B,GAXOC,aAiBRC,cAAQ,KAAMC,EAAdD,CAAuBV,GCjBhCY,E,mKACF,WACI,OAAOC,KAAKT,MAAMU,MACd,KAAK,KACD,OACJ,KAAK,EACD,OACI,6BAAI,oBAAGC,KAAK,eAAR,UAAuB,mBAAGP,UAAU,iBAApC,eAEZ,QACI,MAAO,CACH,6BAAY,cAAC,EAAD,KAAJ,KACR,qBAAYQ,MAAO,CAAEC,OAAQ,UAA7B,sBAAkDJ,KAAKT,MAAMU,KAAKI,UAA1D,KACR,6BAAY,mBAAGH,KAAK,cAAR,qBAAJ,S,oBAKxB,WACI,OACI,8BACI,sBAAKP,UAAU,cAAf,UACA,cAAC,IAAD,CAAMW,GAAIN,KAAKT,MAAMU,KAAO,WAAa,IAAKN,UAAU,kBAAxD,oBACI,oBAAIA,UAAU,QAAd,SACKK,KAAKO,2B,GAxBTX,aAoCNC,eAJS,SAACW,GACrB,MAAO,CAAEP,KAAMO,EAAMP,QAGVJ,CAAyBE,GC5BzBU,EAXC,WACZ,OACI,sBAAKN,MAAO,CAAEO,UAAW,UAAzB,UACI,yCADJ,sCCGFC,EAAY,kBAAM,4CAClBC,EAAS,kBAAM,yCAGfC,E,uKACF,WACIb,KAAKT,MAAMhB,c,oBAGf,WACI,OACI,qBAAKoB,UAAU,YAAf,SACI,cAAC,IAAD,UACI,gCACI,cAAC,EAAD,IACA,cAAC,IAAD,CAAOmB,KAAK,IAAIC,OAAK,EAACC,UAAWP,IACjC,cAAC,IAAD,CAAOK,KAAK,aAAaC,OAAK,EAACC,UAAWL,IAC1C,cAAC,IAAD,CAAOG,KAAK,WAAWC,OAAK,EAACC,UAAWJ,e,GAb9ChB,aAqBHC,cAAQ,KAAMC,EAAdD,CAAuBgB,GC5BvBI,cAAgB,CAC3BhB,KCHW,WAA+B,IAAtBO,EAAqB,uDAAd,KAAMU,EAAQ,uCACzC,OAAQA,EAAOrC,MACX,KAAKP,EACD,OAAO4C,EAAOpC,QAAQI,OAAQ,EAClC,QACI,OAAOsB,MCGbW,EAASC,YAAYC,EAAU,GAAIC,YAAgBC,MAEzDC,IAASC,OACL,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACI,cAAC,EAAD,MAEJO,SAASC,cAAc,Y","file":"static/js/main.06ecc50b.chunk.js","sourcesContent":["export const FETCH_USER = 'fetch_user';","import axios from 'axios';\r\nimport { FETCH_USER, HANDLE_TOKEN } from './types';\r\n\r\nexport const fetchUser =  () => async (dispatch) => {\r\n    const response = await axios.get('/api/current_user');\r\n    dispatch ({ type: FETCH_USER, payload: response});\r\n};\r\n\r\nexport const handleToken = (token) => async (dispatch) => {\r\n    const response = await axios.post('/api/stripe', token);\r\n    dispatch({ type: FETCH_USER, payload: response.data});\r\n}","import React, { Component } from 'react';\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nclass Payments extends Component {\r\n    render () {\r\n        return (\r\n            <StripeCheckout\r\n                name=\"Emaily\"\r\n                description=\"â‚¹250 for 5 email credits\"\r\n                amount={25000}\r\n                token={token => this.props.handleToken(token)}\r\n                stripeKey={process.env.REACT_APP_STRIPE_KEY}\r\n                currency=\"INR\"\r\n            >\r\n                <button className=\"btn\">Add credits</button>\r\n            </StripeCheckout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, actions)(Payments);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Payments from './Payments';\r\n\r\nclass Header extends Component{\r\n    renderContent() {\r\n        switch(this.props.auth){\r\n            case null:\r\n                return;\r\n            case false:\r\n                return (\r\n                    <li><a href=\"/auth/google\"><i className=\"fa fa-google\"></i> Log In</a></li>\r\n                );\r\n            default:\r\n                return [\r\n                    <li key=\"1\"><Payments /></li>,\r\n                    <li key=\"3\" style={{ margin: '0 10px'}}>Credits: {this.props.auth.credits}</li>,\r\n                    <li key=\"2\"><a href=\"/api/logout\">Logout</a></li>\r\n                ];\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav>\r\n                <div className=\"nav-wrapper\">\r\n                <Link to={this.props.auth ? '/surveys' : '/'} className=\"left brand-logo\">Emaily</Link>\r\n                    <ul className=\"right\">\r\n                        {this.renderContent()}\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { auth: state.auth };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react';\r\n\r\nconst Landing = () => {\r\n    return (\r\n        <div style={{ textAlign: 'center'}}>\r\n            <h1>\r\n                Emaily!\r\n            </h1>\r\n            Collect feedback from you users\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Landing;","import React, { Component } from 'react';\r\nimport { Route, BrowserRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions';\r\n\r\nimport Header from './Header';\r\nimport Landing from './Landing';\r\nconst Dashboard = () => <h2>Dashboard</h2>\r\nconst Survey = () => <h2>Survey</h2>\r\n\r\n\r\nclass App extends Component {\r\n    componentDidMount() {\r\n        this.props.fetchUser();\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"container\">\r\n                <BrowserRouter>\r\n                    <div>\r\n                        <Header/>\r\n                        <Route path='/' exact component={Landing}/>\r\n                        <Route path='/dashboard' exact component={Dashboard}/>\r\n                        <Route path='/Surveys' exact component={Survey}/>\r\n                    </div>\r\n                </BrowserRouter>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default connect(null, actions)(App);","import { combineReducers } from 'redux';\r\n\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n    auth: authReducer,\r\n});","import { FETCH_USER } from '../actions/types';\r\n\r\nexport default function(state= null, action) {\r\n    switch (action.type){\r\n        case FETCH_USER:\r\n            return action.payload.data || false;\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport 'materialize-css/dist/css/materialize.min.css';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst store  = createStore(reducers, {}, applyMiddleware(reduxThunk));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>, \r\n    document.querySelector('#root'));"],"sourceRoot":""}